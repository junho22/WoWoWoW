canvasWebpackJsonp([183],{Tp3LCKZWZn:function(t,e,n){"use strict"
var r=c(n("mOY9BNujNR")),o=c(n("mk2Ho3w8uF"))
function c(t){return t&&t.__esModule?t:{default:t}}(0,r.default)(document).ready(function(){window.external_tool_redirect={ready:function(){}};(new o.default).attachLtiEvents()})},mk2Ho3w8uF:function(t,e,n){var r,o,c=function(t,e){return function(){return t.apply(e,arguments)}}
r=[n("mOY9BNujNR")],void 0!==(o=function(t){return function(){function e(){this.createMigration=c(this.createMigration,this)
this.redirectToSuccessUrl=c(this.redirectToSuccessUrl,this)
this._contentCancel=c(this._contentCancel,this)
this._contentReady=c(this._contentReady,this)}e.prototype.successUrl=ENV.redirect_return_success_url
e.prototype.cancelUrl=ENV.redirect_return_cancel_url
e.prototype.attachLtiEvents=function(){t(window).on("externalContentReady",this._contentReady)
return t(window).on("externalContentCancel",this._contentCancel)}
e.prototype._contentReady=function(t,e){return e&&"file"===e.return_type?this.createMigration(e.url):this.redirectToSuccessUrl()}
e.prototype._contentCancel=function(t,e){return location.href=this.cancelUrl}
e.prototype.redirectToSuccessUrl=function(){return location.href=this.successUrl}
e.prototype.createMigration=function(e){var n,r
n={migration_type:"canvas_cartridge_importer",settings:{file_url:e}}
r="/api/v1/courses/"+ENV.course_id+"/content_migrations"
return t.ajaxJSON(r,"POST",n,this.redirectToSuccessUrl,this.handleError)}
e.prototype.handleError=function(e){return t.flashError(e.message)}
return e}()}.apply(e,r))&&(t.exports=o)}},["Tp3LCKZWZn"])

//# sourceMappingURL=external_tool_redirect.bundle-00a6f3ec03.js.183-00a6f3ec03.sourcemap